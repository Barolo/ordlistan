{% extends "base_auth.html" %}
{% block title %}Återställ lösenord{% endblock %}

{% block content_inner %}
<div class="auth-card">

    <!-- LOGO -->
    <div class="login-logo mb-2">
        <img
            src="{{ url_for('static', filename='img/lexiqo_logo.png') }}"
            alt="Lexiqo"
        >
    </div>

    <!-- TITLE -->
    <h1 class="auth-title mb-1">
        Återställ lösenord
    </h1>
    <p class="auth-subtitle">
        Välj ett nytt lösenord för ditt konto.
    </p>

    <!-- FLASH MESSAGES -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- FORM -->
    <form
        method="POST"
        action="{{ url_for('main.reset_with_token', token=token) }}"
    >

        <div class="auth-input-wrapper">
            <input
                type="password"
                name="new_password"
                class="form-control auth-input"
                placeholder="Nytt lösenord"
                required
            >
        </div>

        <button
            type="submit"
            class="primary-btn w-100 mt-2"
        >
            Uppdatera lösenord
        </button>

    </form>

    <!-- LINKS -->
    <div class="text-center mt-3">
        <a href="{{ url_for('main.login') }}" class="auth-link">
            ← Tillbaka till inloggning
        </a>
    </div>

</div>
{% endblock %}
